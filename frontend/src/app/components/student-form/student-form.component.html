<h1 class="text-lg font-medium text-center">
  {{ studentId > 0 ? "Edit" : "Add" }} Student
</h1>
<form nz-form [formGroup]="form" class="w-[400px]" nzLayout="vertical">
  <nz-form-item>
    <nz-form-label nzRequired class="text-gray-700">Name</nz-form-label>
    <nz-form-control nzErrorTip="Please input student name">
      <input nz-input type="text" formControlName="name" />
    </nz-form-control>
  </nz-form-item>

  <div class="grid grid-cols-2 gap-4">
    <nz-form-item>
      <nz-form-label nzRequired nzFor="student">Year</nz-form-label>
      <nz-form-control nzErrorTip="Please select year">
        <nz-select
          nzShowSearch
          nzAllowClear
          nzPlaceHolder="Year"
          formControlName="yearId"
        >
          <nz-option [nzValue]="1" nzLabel="I"></nz-option>
          <nz-option [nzValue]="2" nzLabel="II"></nz-option>
          <nz-option [nzValue]="3" nzLabel="III"></nz-option>
          <nz-option [nzValue]="4" nzLabel="IV"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label nzRequired nzFor="student">Section</nz-form-label>
      <nz-form-control nzErrorTip="Please select a section!">
        <nz-select
          nzShowSearch
          nzAllowClear
          nzPlaceHolder="Section"
          formControlName="sectionId"
        >
          <nz-option
            *ngFor="let s of sections"
            [nzValue]="s.id"
            [nzLabel]="s.name"
          ></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
  </div>
  <nz-form-item>
    <nz-form-label nzRequired nzFor="regNo">Register No</nz-form-label>
    <nz-form-control nzErrorTip="Please input register no!">
      <input nz-input type="text" formControlName="regNo" />
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label nzRequired nzFor="rollNo">Roll No</nz-form-label>
    <nz-form-control nzErrorTip="Please input a roll no!">
      <input nz-input type="text" formControlName="rollNo" />
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label nzRequired nzFor="mobile no">Parent Mobile </nz-form-label>
    <nz-form-control nzErrorTip="Please enter parent mobile!">
      <input nz-input type="text" formControlName="parentMobile" />
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label nzRequired nzFor="mobile no">Student Mobile </nz-form-label>
    <nz-form-control nzErrorTip="Please enter student mobile!">
      <input nz-input type="text" formControlName="studentMobile" />
    </nz-form-control>
  </nz-form-item>

  <div class="flex gap-4">
    <button nz-button [nzType]="'primary'" class="flex-grow" (click)="submit()">
      {{ studentId > 0 ? "Save" : "Add" }}
    </button>
    <button
      nz-button
      [nzType]="'default'"
      class="flex-grow"
      (click)="studentId = -1; form.reset()"
      *ngIf="studentId > 0"
    >
      cancel
    </button>
  </div>
</form>
